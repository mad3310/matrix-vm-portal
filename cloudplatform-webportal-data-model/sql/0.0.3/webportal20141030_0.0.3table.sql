DROP TABLE WEBPORTAL_BUILD;
CREATE TABLE WEBPORTAL_BUILD ( ID bigint NOT NULL AUTO_INCREMENT, MCLUSTER_ID bigint unsigned, DB_ID bigint unsigned, STATUS tinyint, CODE varchar(50) COLLATE utf8_unicode_ci, MSG varchar(200) COLLATE utf8_unicode_ci, START_TIME varchar(19) COLLATE utf8_unicode_ci, STEP_MSG varchar(100), STEP int(3), END_TIME varchar(19), DELETED tinyint, CREATE_TIME datetime, UPDATE_TIME datetime, CREATE_USER bigint, UPDATE_USER bigint, PRIMARY KEY (ID) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
DROP TABLE WEBPORTAL_CONTAINER;
CREATE TABLE WEBPORTAL_CONTAINER ( ID bigint unsigned NOT NULL AUTO_INCREMENT, CONTAINER_NAME varchar(50) COLLATE utf8_unicode_ci, MOUNT_DIR varchar(500), ZOOKEEPER_ID varchar(3) COLLATE utf8_unicode_ci, IP_ADDR varchar(15), GATE_ADDR varchar(15), IP_MASK varchar(15), type varchar(15), DISK_SIZE int, CORES_NUMBER int, CPU_SPEED int, MEMORY_SIZE int, HOST_ID bigint unsigned, HOST_IP varchar(15), MCLUSTER_ID bigint unsigned, STATUS tinyint, DELETED tinyint, CREATE_TIME datetime, UPDATE_TIME datetime, CREATE_USER bigint unsigned, UPDATE_USER bigint unsigned, ZABBIXHOSTS varchar(20), PRIMARY KEY (ID) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
DROP TABLE WEBPORTAL_DB;
CREATE TABLE WEBPORTAL_DB ( ID bigint unsigned NOT NULL AUTO_INCREMENT, MCLUSTER_ID bigint unsigned, HCLUSTER_ID bigint unsigned, DB_NAME varchar(20) COLLATE utf8_unicode_ci, DELETED tinyint, CREATE_TIME datetime, UPDATE_TIME datetime, CREATE_USER bigint unsigned, UPDATE_USER bigint unsigned, STATUS tinyint, BACKUP_CYCLE varchar(36) COLLATE utf8_unicode_ci COMMENT '备份周期:未来关联表,做复杂周期备份', NOTICE_TYPE tinyint, DESCN varchar(200) COLLATE utf8_unicode_ci, ENGINE_TYPE tinyint, FROM_DB_IP varchar(36) COLLATE utf8_unicode_ci COMMENT '原数据库IP', FROM_DB_PORT varchar(10) COLLATE utf8_unicode_ci COMMENT '原数据库PORT', FROM_DB_NAME varchar(100) COLLATE utf8_unicode_ci COMMENT '原数据库NAME', LINK_TYPE tinyint, AUDIT_INFO varchar(200) COLLATE utf8_unicode_ci, AUDIT_TIME datetime, AUDIT_USER bigint unsigned, PRIMARY KEY (ID) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
DROP TABLE WEBPORTAL_DB_APPLY_STANDARD;
CREATE TABLE WEBPORTAL_DB_APPLY_STANDARD ( ID bigint NOT NULL AUTO_INCREMENT, APPLY_CODE varchar(100) COLLATE utf8_unicode_ci, APPLY_NAME varchar(100) COLLATE utf8_unicode_ci, VERSION varchar(30) COLLATE utf8_unicode_ci COMMENT '版本', BACKUP_CYCLE varchar(36) COLLATE utf8_unicode_ci COMMENT '备份周期:未来关联表,做复杂周期备份', IS_EMAIL_NOTICE varchar(10) COLLATE utf8_unicode_ci, DESCN varchar(100) COLLATE utf8_unicode_ci, ENGINE_TYPE varchar(50) COLLATE utf8_unicode_ci, FROM_DB_IP varchar(36) COLLATE utf8_unicode_ci COMMENT '原数据库IP', FROM_DB_PORT varchar(10) COLLATE utf8_unicode_ci COMMENT '原数据库PORT', FROM_DB_NAME varchar(100) COLLATE utf8_unicode_ci COMMENT '原数据库NAME', DEVELOP_LANGUAGE varchar(50) COLLATE utf8_unicode_ci, LINK_TYPE varchar(50) COLLATE utf8_unicode_ci, BELONG_DB varchar(36) COLLATE utf8_unicode_ci, AUDIT_TIME varchar(19) COLLATE utf8_unicode_ci, AUDIT_USER varchar(36) COLLATE utf8_unicode_ci, STATUS varchar(2) COLLATE utf8_unicode_ci, AUDIT_INFO varchar(1024) COLLATE utf8_unicode_ci, CLUSTER_ID varchar(36) COLLATE utf8_unicode_ci, IS_DELETED tinyint, CREATE_TIME datetime, UPDATE_TIME datetime, CREATE_USER bigint unsigned, UPDATE_USER bigint unsigned, MAX_USER_CONNECTIONS int(10), MAX_CONNECTIONS_PER_HOUR int(10), MAX_UPDATES_PER_HOUR int(10), MAX_QUERIES_PER_HOUR int(10), READ_WRITER_RATE varchar(10) COLLATE utf8_unicode_ci, DATA_LIMIT_IP_LIST varchar(1024) COLLATE utf8_unicode_ci, MAX_CONCURRENCY int(10), MGR_LIMIT_IP_LIST varchar(1024) COLLATE utf8_unicode_ci, PRIMARY KEY (ID) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
DROP TABLE WEBPORTAL_DB_USER;
CREATE TABLE WEBPORTAL_DB_USER ( ID bigint unsigned NOT NULL AUTO_INCREMENT, DB_ID bigint unsigned, USERNAME varchar(20) COLLATE utf8_unicode_ci, PASSWORD varchar(20) COLLATE utf8_unicode_ci, TYPE tinyint, ACCEPT_IP varchar(15) COLLATE utf8_unicode_ci COMMENT '访问IP', MAX_CONCURRENCY int COMMENT '最大并发量', READ_WRITER_RATE varchar(10) COLLATE utf8_unicode_ci COMMENT '读写比例', MAX_QUERIES_PER_HOUR int COMMENT '每小时最大查询数(用户可填,系统自动填充,管理员审核修改)', MAX_UPDATES_PER_HOUR int COMMENT '每小时最大更新数(用户可填,系统自动填充,管理员审核修改)', MAX_CONNECTIONS_PER_HOUR int COMMENT '每小时最大连接数(用户可填,系统自动填充,管理员审核修改)', MAX_USER_CONNECTIONS int COMMENT '用户最大链接数(用户可填,系统自动填充,管理员审核修改)', STATUS tinyint, SALT varchar(20) COLLATE utf8_unicode_ci, CREATE_TIME datetime, DELETED tinyint, UPDATE_TIME datetime, CREATE_USER bigint unsigned, UPDATE_USER bigint unsigned, PRIMARY KEY (ID) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
DROP TABLE WEBPORTAL_HCLUSTER;
CREATE TABLE WEBPORTAL_HCLUSTER ( ID bigint unsigned NOT NULL AUTO_INCREMENT, HCLUSTER_NAME varchar(20) COLLATE utf8_unicode_ci, STATUS tinyint, DELETED tinyint, UPDATE_USER bigint unsigned, UPDATE_TIME datetime, CREATE_USER bigint unsigned, CREATE_TIME datetime, DESCN varchar(200), HCLUSTER_NAME_ALIAS varchar(30), PRIMARY KEY (ID) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
DROP TABLE WEBPORTAL_HOST;
CREATE TABLE WEBPORTAL_HOST ( ID bigint unsigned NOT NULL AUTO_INCREMENT, HOST_NAME varchar(20) COLLATE utf8_unicode_ci, HOST_IP varchar(15), NODES_NUMBER int, CPU_MODEL varchar(50), CORES_NUMBER int, MEMORY_SIZE int, DISK_SIZE int, DISK_USED int, HOST_MODEL varchar(50), TYPE varchar(10), HCLUSTER_ID bigint unsigned, STATUS tinyint, DELETED tinyint, UPDATE_USER bigint unsigned, UPDATE_TIME datetime, CREATE_USER bigint unsigned, CREATE_TIME datetime, DESCN varchar(200), NAME varchar(30), PASSWORD varchar(30), HOST_NAME_ALIAS varchar(30), PRIMARY KEY (ID) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
DROP TABLE WEBPORTAL_IP_RESOURCE;
CREATE TABLE WEBPORTAL_IP_RESOURCE ( ID bigint unsigned NOT NULL AUTO_INCREMENT, IP varchar(15) COLLATE utf8_unicode_ci, GATE_WAY varchar(15) COLLATE utf8_unicode_ci, MASK varchar(15) COLLATE utf8_unicode_ci, STATUS tinyint, DELETED tinyint, CREATE_TIME datetime, UPDATE_TIME datetime, CREATE_USER bigint unsigned, UPDATE_USER bigint unsigned, PRIMARY KEY (ID) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
DROP TABLE WEBPORTAL_MCLUSTER_INFO;
CREATE TABLE WEBPORTAL_MCLUSTER_INFO ( ID bigint unsigned NOT NULL AUTO_INCREMENT, MCLUSTER_NAME varchar(20), STATUS tinyint, SST_PASSWORD varchar(20), HCLUSTER_ID bigint unsigned, DELETED tinyint, CREATE_TIME datetime COMMENT '创建时间', CREATE_USER bigint unsigned, UPDATE_TIME datetime, UPDATE_USER bigint unsigned, ADMIN_USER varchar(20), ADMIN_PASSWORD varchar(20), type int(10), PRIMARY KEY (ID) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
DROP TABLE WEBPORTAL_USER;
CREATE TABLE WEBPORTAL_USER ( ID bigint NOT NULL AUTO_INCREMENT, USERNAME varchar(30), EMAIL varchar(45), PASSWORD varchar(50), PASSPORT_ID varchar(36), LAST_LOGIN_TIME datetime, LASTLOGIN_IP varchar(20), CURRENT_LOGIN_TIME datetime, CURRENT_LOGIN_IP varchar(20), REGISTER_DATE datetime, IS_ADMIN tinyint, DELETED tinyint, CREATE_TIME datetime, UPDATE_TIME datetime, UPDATE_USER bigint unsigned, CREATE_USER bigint unsigned, PRIMARY KEY (ID) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
